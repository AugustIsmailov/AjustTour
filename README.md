# Шаблон для текстового бота

Простой текстовый бот.

## chatbot.yaml

Файл, содержащий основную информацию о конфигурации проекта.

## Словарь ответов (dictionaries)

`answers.yaml` содержит в себе словарь с ответами бота для разных стейтов. Формат наполнения словаря: по принципу "ключ: значение".

```yaml
CatchAll: Простите, я не понимаю. Переформулируйте свой вопрос.

CatchAll:
    - Простите, я не понимаю. Переформулируйте свой вопрос.
    - Извините, я Вас не понял. Сформулируйте, пожалуйста, свой запрос по-другому.

```

## Файл с паттернами (patterns)

`patterns.sc` содержит паттерны, использующиеся в проекте. Подробнее об их составлении можно почитать [в документации](https://help.just-ai.com/docs/ru/dsl/declarative-tags/patterns).

## Скрипты (scripts)

`answers.js` содержит в себе функции вывода ответов из словаря (по ключу):

- вывод рандомного ответа
- вывод ответа по порядку

Если ключ не передаётся, то в качестве ключа берется название текущего стейта.

`functions.js` содержит в себе функции счётчиков попаданий в стейты и другие полезные функции:

- счетчик попаданий в стейт
- счетчик попаданий в стейт подряд
- функция проверки любых значений в тестах (фичу можно посмотреть [здесь](https://gitlab.just-ai.com/jaicp-dsl-bots/content-templates/-/blob/master/src/features/checkAnythingByResponse.md))

`init.js` содержит в себе код для [обработчиков этапов работы с запросом пользователя](https://help.just-ai.com/docs/ru/JS_API/built_in_functions/bind#request-processing-stage-handlers) и [обработчиков ошибок](https://help.just-ai.com/docs/ru/JS_API/built_in_functions/bind#error-handlers)

## Файл зависимостей (requirements.sc)

В него помещены все зависимости сценария, которые должны быть указаны через тег `require`.
Из zb-common подключены следующие модули:

- common.js
- patterns.sc
- number/number.sc
- dateTime/moment.min.js
- reset/reset.sc

## Основной файл со сценарием с функционалом (main.sc)

Содержит в себе самые частотные стейты:

- стейт с обработкой всех интентов
- `CatchAll` для обработки запросов, не попавших ни в один стейт
- стейты для обработки запросов "ты бот?", "остались ли вопросы?"
- стейт для перевода на оператора

## Папка с файлами для автотестов (test)

Содержит файлы с автотестами, использующиеся в проекте, а также заготовки тегов для копирования и использования. Подробнее об их использовании и составлении можно почитать [в документации](https://help.just-ai.com/docs/ru/Content_testing/tests_xml/tests_xml).
